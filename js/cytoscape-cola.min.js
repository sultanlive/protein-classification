!function(n,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("webcola")):"function"==typeof define&&define.amd?define(["webcola"],t):"object"==typeof exports?exports.cytoscapeCola=t(require("webcola")):n.cytoscapeCola=t(n.webcola)}(this,(function(n){return function(n){var t={};function e(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return n[o].call(i.exports,i,i.exports,e),i.l=!0,i.exports}return e.m=n,e.c=t,e.i=function(n){return n},e.d=function(n,t,o){e.o(n,t)||Object.defineProperty(n,t,{configurable:!1,enumerable:!0,get:o})},e.n=function(n){var t=n&&n.__esModule?function(){return n.default}:function(){return n};return e.d(t,"a",t),t},e.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},e.p="",e(e.s=3)}([function(n,t,e){"use strict";var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},i=e(1),r=e(2),a=e(5)||("undefined"!=typeof window?window.cola:null),c=e(4),u=function(n){return(void 0===n?"undefined":o(n))===o(0)},s=function(){},l=function(n,t){var e;return null!=(e=n)&&(void 0===e?"undefined":o(e))===o((function(){}))?n.apply(t,[t]):n};function f(n){this.options=i({},r,n)}f.prototype.run=function(){var n=this,t=this.options;n.manuallyStopped=!1;var e=t.cy,i=t.eles,r=i.nodes(),f=i.edges(),d=!1,p=r.filter((function(n){return n.isParent()})),y=r.subtract(p),h=t.boundingBox||{x1:0,y1:0,w:e.width(),h:e.height()};void 0===h.x2&&(h.x2=h.x1+h.w),void 0===h.w&&(h.w=h.x2-h.x1),void 0===h.y2&&(h.y2=h.y1+h.h),void 0===h.h&&(h.h=h.y2-h.y1);var g=function(){for(var n=0;n<r.length;n++){var o=r[n],i=o.layoutDimensions(t),a=o.scratch("cola");if(!a.updatedDims){var c=l(t.nodeSpacing,o);a.width=i.w+2*c,a.height=i.h+2*c}}r.positions((function(n){var t=n.scratch().cola,e=void 0;return!n.grabbed()&&y.contains(n)&&(e={x:h.x1+t.x,y:h.y1+t.y},u(e.x)&&u(e.y)||(e=void 0)),e})),r.updateCompoundBounds(),d||(v(),d=!0),t.fit&&e.fit(t.padding)},m=function(){t.ungrabifyWhileSimulating&&w.grabify(),e.off("destroy",S),r.off("grab free position",k),r.off("lock unlock",L),n.one("layoutstop",t.stop),n.trigger({type:"layoutstop",layout:n})},v=function(){n.one("layoutready",t.ready),n.trigger({type:"layoutready",layout:n})},x=t.refresh;x=t.refresh<0?1:Math.max(1,x);var b=n.adaptor=a.adaptor({trigger:function(n){var e=a.EventType?a.EventType.tick:null,o=a.EventType?a.EventType.end:null;switch(n.type){case"tick":case e:t.animate&&g();break;case"end":case o:g(),t.infinite||m()}},kick:function(){var e=!0,o=function(){if(n.manuallyStopped)return m(),!0;var o=b.tick();return t.infinite||e||b.convergenceThreshold(t.convergenceThreshold),e=!1,o&&t.infinite&&b.resume(),o};if(t.animate)c((function n(){(function(){for(var n=void 0,t=0;t<x&&!n;t++)n=n||o();return n})()||c(n)}));else for(;!o(););},on:s,drag:s});n.adaptor=b;var w=r.filter(":grabbable");t.ungrabifyWhileSimulating&&w.ungrabify();var S=void 0;e.one("destroy",S=function(){n.stop()});var k=void 0;r.on("grab free position",k=function(n){var t=this.scratch().cola,e=this.position();if(n.cyTarget===this||n.target===this)switch(n.type){case"grab":b.dragstart(t);break;case"free":b.dragend(t);break;case"position":t.px===e.x-h.x1&&t.py===e.y-h.y1||(t.px=e.x-h.x1,t.py=e.y-h.y1)}});var L=void 0;r.on("lock unlock",L=function(){var n=this.scratch().cola;n.fixed=this.locked(),this.locked()?b.dragstart(n):b.dragend(n)}),b.nodes(y.map((function(n,e){var o=l(t.nodeSpacing,n),i=n.position(),r=n.layoutDimensions(t);return n.scratch().cola={x:t.randomize||void 0===i.x?Math.round(Math.random()*h.w):i.x,y:t.randomize||void 0===i.y?Math.round(Math.random()*h.h):i.y,width:r.w+2*o,height:r.h+2*o,index:e,fixed:n.locked()}})));var D=[];if(t.alignment){var T=[],q=[];y.forEach((function(n){var e=l(t.alignment,n),o=n.scratch().cola.index;e&&(null!=e.x&&T.push({node:o,offset:e.x}),null!=e.y&&q.push({node:o,offset:e.y}))})),0<T.length&&D.push({type:"alignment",axis:"x",offsets:T}),0<q.length&&D.push({type:"alignment",axis:"y",offsets:q})}t.gapInequalities&&t.gapInequalities.forEach((function(n){var t=n.left.scratch().cola.index,e=n.right.scratch().cola.index;D.push({axis:n.axis,left:t,right:e,gap:n.gap,equality:n.equality})})),0<D.length&&b.constraints(D),b.groups(p.map((function(n,e){var o=l(t.nodeSpacing,n),i=function(t){return parseFloat(n.style("padding-"+t))},r=i("left")+o,a=i("right")+o,c=i("top")+o,u=i("bottom")+o;return n.scratch().cola={index:e,padding:Math.max(r,a,c,u),leaves:n.children().intersection(y).map((function(n){return n[0].scratch().cola.index})),fixed:n.locked()},n})).map((function(n){return n.scratch().cola.groups=n.children().intersection(p).map((function(n){return n.scratch().cola.index})),n.scratch().cola})));var j,I,O=void 0,E=void 0;if(null!=t.edgeLength?(O=t.edgeLength,E="linkDistance"):null!=t.edgeSymDiffLength?(O=t.edgeSymDiffLength,E="symmetricDiffLinkLengths"):null!=t.edgeJaccardLength?(O=t.edgeJaccardLength,E="jaccardLinkLengths"):(O=100,E="linkDistance"),b.links(f.stdFilter((function(n){return y.contains(n.source())&&y.contains(n.target())})).map((function(n){var t=n.scratch().cola={source:n.source()[0].scratch().cola.index,target:n.target()[0].scratch().cola.index};return null!=O&&(t.calcLength=l(O,n)),t}))),b.size([h.w,h.h]),null!=O&&b[E]((function(n){return n.calcLength})),t.flow){var C=void 0;(void 0===(I=t.flow)?"undefined":o(I))===o("")?C={axis:t.flow,minSeparation:50}:u(t.flow)?C={axis:"y",minSeparation:t.flow}:null!=(j=t.flow)&&(void 0===j?"undefined":o(j))===o({})?((C=t.flow).axis=C.axis||"y",C.minSeparation=null!=C.minSeparation?C.minSeparation:50):C={axis:"y",minSeparation:50},b.flowLayout(C.axis,C.minSeparation)}return n.trigger({type:"layoutstart",layout:n}),b.avoidOverlaps(t.avoidOverlap).handleDisconnected(t.handleDisconnected).start(t.unconstrIter,t.userConstIter,t.allConstIter),t.infinite||setTimeout((function(){n.manuallyStopped||b.stop()}),t.maxSimulationTime),this},f.prototype.stop=function(){return this.adaptor&&(this.manuallyStopped=!0,this.adaptor.stop()),this},n.exports=f},function(n,t,e){"use strict";n.exports=null!=Object.assign?Object.assign.bind(Object):function(n){for(var t=arguments.length,e=Array(1<t?t-1:0),o=1;o<t;o++)e[o-1]=arguments[o];return e.filter((function(n){return null!=n})).forEach((function(t){Object.keys(t).forEach((function(e){return n[e]=t[e]}))})),n}},function(n,t,e){"use strict";n.exports={animate:!0,refresh:1,maxSimulationTime:4e3,ungrabifyWhileSimulating:!1,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,ready:function(){},stop:function(){},randomize:!1,avoidOverlap:!0,handleDisconnected:!0,convergenceThreshold:.01,nodeSpacing:function(n){return 10},flow:void 0,alignment:void 0,gapInequalities:void 0,edgeLength:void 0,edgeSymDiffLength:void 0,edgeJaccardLength:void 0,unconstrIter:void 0,userConstIter:void 0,allConstIter:void 0,infinite:!1}},function(n,t,e){"use strict";var o=e(0),i=function(n){n&&n("layout","cola",o)};"undefined"!=typeof cytoscape&&i(cytoscape),n.exports=i},function(n,t,e){"use strict";var o,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n};o="undefined"!==("undefined"==typeof window?"undefined":i(window))?window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(n){return setTimeout(n,16)}:function(n){n()},n.exports=o},function(t,e){t.exports=n}])}));